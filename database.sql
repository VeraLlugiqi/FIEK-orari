CREATE DATABASE knk_orari;
use knk_orari;

CREATE TABLE class (
  cid INT AUTO_INCREMENT,
  classname VARCHAR(20),
  availableClass INTEGER,
  uid INTEGER,
  PRIMARY KEY (cid),
  FOREIGN KEY (uid) REFERENCES user (uid)
);

CREATE TABLE schedule (
  sid VARCHAR(4),
  timestamp VARCHAR(20) NOT NULL,
  day VARCHAR(20) NOT NULL,
  availableSchedule INTEGER,
  PRIMARY KEY (sid)
);

CREATE TABLE schedule_class (
  sid VARCHAR(4),
  cid INT,
  PRIMARY KEY (sid, cid),
  FOREIGN KEY (sid) REFERENCES schedule (sid),
  FOREIGN KEY (cid) REFERENCES class (cid)
);


create table subject (
id integer not null auto_increment,
name varchar(80) not null,
availableSubject integer,
primary key(id));

create table professor_subject (
id int not null auto_increment,
  professor_id int not null,
  subject_id int not null,
  primary key (id),
  foreign key (professor_id) references user(uid),
 foreign key (subject_id) references subject(id)
);

create table orarizgjedhur(
oid int AUTO_INCREMENT,
sid varchar(4) ,
idNumber varchar(100) ,
salla varchar(10) ,
lenda varchar(100) ,
timestamp varchar(20) ,
day varchar(20) ,
availableOrariZgjedhur int,
primary key(oid),
foreign key(sid) references schedule(sid)
);

create table user (
uid integer not null auto_increment,   # numri i karteles se profesorit apo administatorit
firstName varchar(50) not null,
lastName varchar(50) not null,
idNumber varchar(100) not null,
password varchar(250),
salt varchar(250),
primary key(uid)
);



#--------------------VALUES---------------------------

insert into user( firstName,lastName,idNumber,password,salt)
values
('Isak','Shabani','121514',null,null),
('Lule','Ahmeti','121920',null,null),
('Dhurate','Hyseni','121001',null,null),
('Artan','Mazrekaj','122020',null,null),
('Blerim','Rexha','122121',null,null),
('Valon','Raca','120890',null,null),
('Milaim','Zabeli','120670',null,null),
('Qefsere','Gjonbalaj','121515',null,null),
('Bahri','Prebeza','121678',null,null),
('Qamil','Kabashi','121517',null,null),
('Blend','Arifaj','121623',null,null),
('Dalina','Vranovci','121212',null,null),
('Synim','Selimi','121819',null,null),
('Mergim','Hoti','122020',null,null),
('Arbnor','Halili','122254',null,null),
('Ramadan','Plakolli','122301',null,null);

insert into subject(name, availableSubject)
values
( 'Matematika l', 0),
( 'MAtematika ll', 0),
(  'Fizika l', 0),
( 'Fizika ll', 0),
( 'Bazat e inxhinierise elektrike l', 0),
( 'Bazat e inxhinierise elektrike ll', 0),
( 'Programimi ne C++', 0),
( 'Algoritme dhe Struktura e te dhenave', 0),
( 'Shkathtesi Komunikuese', 0),
( 'Praktikum ne matematike', 0),
( 'Car√ße digjitle', 0),
('Arkitektura e kompjutereve', 0),
('Elektronika', 0),
('Matematika Diskrete dhe Probabiliteti', 0),
('POO', 0),
('Baza e te Dhenave', 0),
('Programimi ne Ueb l', 0),
('Sisteme Operative', 0),
('Siguria e te dhenave', 0),
('Inxhinieria Kompjuterike', 0),
('KNK', 0),
('Programimi ne Ueb ll', 0),
('Buxheti dhe analiza e shpezimeve', 0),
('Bazat e te dhenave', 0);

insert into class(classname, availableClass)
values
("A408", "0"),
("A411", 0),
("201", 0),
("310", 0),
("311", 0),
("611", 0),
("621", 0),
("626", 0),
('615', 0),
("629", 0),
("636", 0);

insert into schedule(sid, timestamp, day, availableSchedule)
values
('1001','08:00', 'E hene','0'),
('1002','09:30', 'E hene', '0'),
('1003','11:00', 'E hene','0'),
('1004','12:30', 'E hene','0'),
('1005','14:00', 'E hene','0'),
('1006','15:30', 'E hene','0'),
('1007','17:00', 'E hene','0'),

('1008','08:00', 'E marte','0'),
('1009','09:30', 'E marte','0'),
('1010','11:00', 'E marte','0'),
('1011','12:30', 'E marte','0'),
('1012','14:00', 'E marte','0'),
('1013','15:30', 'E marte','0'),
('1014','17:00', 'E marte','0'),

('1015','08:00', 'E merkure','0'),
('1016','09:30', 'E merkure','0'),
('1017','11:00', 'E merkure','0'),
('1018','12:30', 'E merkure','0'),
('1019','14:00', 'E merkure','0'),
('1020','15:30', 'E merkure','0'),
('1021','17:00', 'E merkure','0'),

('1022','08:00', 'E enjte','0'),
('1023','09:30', 'E enjte','0'),
('1024','11:00', 'E enjte','0'),
('1025','12:30', 'E enjte','0'),
('1026','14:00', 'E enjte','0'),
('1027','15:30', 'E enjte','0'),
('1028','17:00', 'E enjte','0'),

('1029','08:00', 'E premte','0'),
('1030','09:30', 'E premte','0'),
('1031','11:00', 'E premte','0'),
('1032','12:30', 'E premte','0'),
('1033','14:00', 'E premte','0'),
('1034','15:30', 'E premte','0'),
('1035','17:00', 'E premte','0');


insert into professor_subject(professor_id, subject_id)
values
( '1', '15'),
( '1', '21'),
( '2', '23'),
( '3', '16'),
( '3', '21'),
( '4', '17'),
( '5', '9'),
( '5', '19'),
('5','20'),
( '6', '11'),
( '7', '12'),
( '8', '14'),
( '9', '10'),
( '10', '14'),
( '11', '16'),
( '11', '18'),
( '11', '22'),
( '12', '16'),
( '12', '23'),
( '12', '18'),
( '13', '12'),
( '14', '19'),
( '15', '20'),
( '16', '13');


#-------------------------------------------------------------------------------
#Prej qetu e boni update pjesen e databazes

create table professor_subject (
id int not null auto_increment,
  professor_id int not null,
  subject_id int not null,
  availableProfessorSubject int,
  primary key (id),
  foreign key (professor_id) references user(uid),
 foreign key (subject_id) references subject(id)
);

insert into professor_subject(professor_id, subject_id, availableProfessorSubject)
values
( '1', '15', '0'),
( '1', '21', '0'),
( '2', '23', '0'),
( '3', '16', '0'),
( '3', '21', '0'),
( '4', '17', '0'),
( '5', '9', '0'),
( '5', '19', '0'),
('5','20', '0'),
( '6', '11', '0'),
( '7', '12', '0'),
( '8', '14', '0'),
( '9', '10', '0'),
( '10', '14', '0'),
( '11', '16', '0'),
( '11', '18', '0'),
( '11', '22', '0'),
( '12', '16', '0'),
( '12', '23', '0'),
( '12', '18', '0'),
( '13', '12', '0'),
( '14', '19', '0'),
( '15', '20', '0'),
( '16', '13', '0');





#---------------------------------------------------------------
create table schedule_class(
scid int auto_increment,
cid int,
sid varchar(4),
available 0,
primary key(scid),
foreign key(cid) references class(cid),
foreign key(sid) references schedule(sid)
);
#Qetu duhet me i shtu krejt kombinimet, e boj ma vone
insert into schedule_class (sid, cid, available) values
('1009', '1', 0 ),
('1009', '2', 0),
('1009', '3', 0 ),
('1009', '4', 0),
('1009', '5', 0 ),
('1008', '1', 0),
('1008', '2', 0 ),
('1008', '3', 0),
('1008', '4', 0 ),
('1008', '5', 0);


select firstname, lastname from professor_subject inner join user on professor_subject.professor_id = user.uid
inner join subject on professor_subject.subject_id = subject.id
 where subject.id = '15';



('1001', '1', '0'),
('1001', '2', '0'),
('1001', '3', '0'),
('1001', '4', '0'),
('1001', '5', '0'),
('1001', '6', '0'),
('1001', '7', '0'),
('1001', '8', '0'),
('1001', '9', '0'),
('1001', '10', '0'),
('1001', '11', '0'),
('1001', '12', '0'),
('1001', '13', '0'),
('1002', '1', '0'),
('1002', '2', '0'),
('1002', '3', '0'),
('1002', '4', '0'),
('1002', '5', '0'),
('1002', '6', '0'),
('1002', '7', '0'),
('1002', '8', '0'),
('1002', '9', '0'),
('1002', '10', '0'),
('1002', '11', '0'),
('1002', '12', '0'),
('1002', '13', '0'),
('1003', '1', '0'),
('1003', '2', '0'),
('1003', '3', '0'),
('1003', '4', '0'),
('1003', '5', '0'),
('1003', '6', '0'),
('1003', '7', '0'),
('1003', '8', '0'),
('1003', '9', '0'),
('1003', '10', '0'),
('1003', '11', '0'),
('1003', '12', '0'),
('1003', '13', '0'),
('1004', '1', '0'),
('1004', '2', '0'),
('1004', '3', '0'),
('1004', '4', '0'),
('1004', '5', '0'),
('1004', '6', '0'),
('1004', '7', '0'),
('1004', '8', '0'),
('1004', '9', '0'),
('1004', '10', '0'),
('1004', '11', '0'),
('1004', '12', '0'),
('1004', '13', '0'),
('1005', '1', '0'),
('1005', '2', '0'),
('1005', '3', '0'),
('1005', '4', '0'),
('1005', '5', '0'),
('1005', '6', '0'),
('1005', '7', '0'),
('1005', '8', '0'),
('1005', '9', '0'),
('1005', '10', '0'),
('1005', '11', '0'),
('1005', '12', '0'),
('1005', '13', '0'),
('1006', '1', '0'),
('1006', '2', '0'),
('1006', '3', '0'),
('1006', '4', '0'),
('1006', '5', '0'),
('1006', '6', '0'),
('1006', '7', '0'),
('1006', '8', '0'),
('1006', '9', '0'),
('1006', '10', '0'),
('1006', '11', '0'),
('1006', '12', '0'),
('1006', '13', '0'),
('1007', '1', '0'),
('1007', '2', '0'),
('1007', '3', '0'),
('1007', '4', '0'),
('1007', '5', '0'),
('1007', '6', '0'),
('1007', '7', '0'),
('1007', '8', '0'),
('1007', '9', '0'),
('1007', '10', '0'),
('1007', '11', '0'),
('1007', '12', '0'),
('1007', '13', '0'),
('1008', '1', '0'),
('1008', '2', '0'),
('1008', '3', '0'),
('1008', '4', '0'),
('1008', '5', '0'),
('1008', '6', '0'),
('1008', '7', '0'),
('1008', '8', '0'),
('1008', '9', '0'),
('1008', '10', '0'),
('1008', '11', '0'),
('1008', '12', '0'),
('1008', '13', '0'),
('1009', '1', '0'),
('1009', '2', '0'),
('1009', '3', '0'),
('1009', '4', '0'),
('1009', '5', '0'),
('1009', '6', '0'),
('1009', '7', '0'),
('1009', '8', '0'),
('1009', '9', '0'),
('1009', '10', '0'),
('1009', '11', '0'),
('1009', '12', '0'),
('1009', '13', '0'),
('1010', '1', '0'),
('1010', '2', '0'),
('1010', '3', '0'),
('1010', '4', '0'),
('1010', '5', '0'),
('1010', '6', '0'),
('1010', '7', '0'),
('1010', '8', '0'),
('1010', '9', '0'),
('1010', '10', '0'),
('1010', '11', '0'),
('1010', '12', '0'),
('1010', '13', '0'),
('1011', '1', '0'),
('1011', '2', '0'),
('1011', '3', '0'),
('1011', '4', '0'),
('1011', '5', '0'),
('1011', '6', '0'),
('1011', '7', '0'),
('1011', '8', '0'),
('1011', '9', '0'),
('1011', '10', '0'),
('1011', '11', '0'),
('1011', '12', '0'),
('1011', '13', '0'),
('1012', '1', '0'),
('1012', '2', '0'),
('1012', '3', '0'),
('1012', '4', '0'),
('1012', '5', '0'),
('1012', '6', '0'),
('1012', '7', '0'),
('1012', '8', '0'),
('1012', '9', '0'),
('1012', '10', '0'),
('1012', '11', '0'),
('1012', '12', '0'),
('1012', '13', '0'),
('1013', '1', '0'),
('1013', '2', '0'),
('1013', '3', '0'),
('1013', '4', '0'),
('1013', '5', '0'),
('1013', '6', '0'),
('1013', '7', '0'),
('1013', '8', '0'),
('1013', '9', '0'),
('1013', '10', '0'),
('1013', '11', '0'),
('1013', '12', '0'),
('1013', '13', '0'),
('1014', '1', '0'),
('1014', '2', '0'),
('1014', '3', '0'),
('1014', '4', '0'),
('1014', '5', '0'),
('1014', '6', '0'),
('1014', '7', '0'),
('1014', '8', '0'),
('1014', '9', '0'),
('1014', '10', '0'),
('1014', '11', '0'),
('1014', '12', '0'),
('1014', '13', '0'),
('1015', '1', '0'),
('1015', '2', '0'),
('1015', '3', '0'),
('1015', '4', '0'),
('1015', '5', '0'),
('1015', '6', '0'),
('1015', '7', '0'),
('1015', '8', '0'),
('1015', '9', '0'),
('1015', '10', '0'),
('1015', '11', '0'),
('1015', '12', '0'),
('1015', '13', '0'),
('1016', '1', '0'),
('1016', '2', '0'),
('1016', '3', '0'),
('1016', '4', '0'),
('1016', '5', '0'),
('1016', '6', '0'),
('1016', '7', '0'),
('1016', '8', '0'),
('1016', '9', '0'),
('1016', '10', '0'),
('1016', '11', '0'),
('1016', '12', '0'),
('1016', '13', '0'),
('1017', '1', '0'),
('1017', '2', '0'),
('1017', '3', '0'),
('1017', '4', '0'),
('1017', '5', '0'),
('1017', '6', '0'),
('1017', '7', '0'),
('1017', '8', '0'),
('1017', '9', '0'),
('1017', '10', '0'),
('1017', '11', '0'),
('1017', '12', '0'),
('1017', '13', '0'),
('1018', '1', '0'),
('1018', '2', '0'),
('1018', '3', '0'),
('1018', '4', '0'),
('1018', '5', '0'),
('1018', '6', '0'),
('1018', '7', '0'),
('1018', '8', '0'),
('1018', '9', '0'),
('1018', '10', '0'),
('1018', '11', '0'),
('1018', '12', '0'),
('1018', '13', '0'),
('1019', '1', '0'),
('1019', '2', '0'),
('1019', '3', '0'),
('1019', '4', '0'),
('1019', '5', '0'),
('1019', '6', '0'),
('1019', '7', '0'),
('1019', '8', '0'),
('1019', '9', '0'),
('1019', '10', '0'),
('1019', '11', '0'),
('1019', '12', '0'),
('1019', '13', '0'),
('1020', '1', '0'),
('1020', '2', '0'),
('1020', '3', '0'),
('1020', '4', '0'),
('1020', '5', '0'),
('1020', '6', '0'),
('1020', '7', '0'),
('1020', '8', '0'),
('1020', '9', '0'),
('1020', '10', '0'),
('1020', '11', '0'),
('1020', '12', '0'),
('1020', '13', '0'),
('1021', '1', '0'),
('1021', '2', '0'),
('1021', '3', '0'),
('1021', '4', '0'),
('1021', '5', '0'),
('1021', '6', '0'),
('1021', '7', '0'),
('1021', '8', '0'),
('1021', '9', '0'),
('1021', '10', '0'),
('1021', '11', '0'),
('1021', '12', '0'),
('1021', '13', '0'),
('1022', '1', '0'),
('1022', '2', '0'),
('1022', '3', '0'),
('1022', '4', '0'),
('1022', '5', '0'),
('1022', '6', '0'),
('1022', '7', '0'),
('1022', '8', '0'),
('1022', '9', '0'),
('1022', '10', '0'),
('1022', '11', '0'),
('1022', '12', '0'),
('1022', '13', '0'),
('1023', '1', '0'),
('1023', '2', '0'),
('1023', '3', '0'),
('1023', '4', '0'),
('1023', '5', '0'),
('1023', '6', '0'),
('1023', '7', '0'),
('1023', '8', '0'),
('1023', '9', '0'),
('1023', '10', '0'),
('1023', '11', '0'),
('1023', '12', '0'),
('1023', '13', '0'),
('1024', '1', '0'),
('1024', '2', '0'),
('1024', '3', '0'),
('1024', '4', '0'),
('1024', '5', '0'),
('1024', '6', '0'),
('1024', '7', '0'),
('1024', '8', '0'),
('1024', '9', '0'),
('1024', '10', '0'),
('1024', '11', '0'),
('1024', '12', '0'),
('1024', '13', '0'),
('1025', '1', '0'),
('1025', '2', '0'),
('1025', '3', '0'),
('1025', '4', '0'),
('1025', '5', '0'),
('1025', '6', '0'),
('1025', '7', '0'),
('1025', '8', '0'),
('1025', '9', '0'),
('1025', '10', '0'),
('1025', '11', '0'),
('1025', '12', '0'),
('1025', '13', '0'),
('1026', '1', '0'),
('1026', '2', '0'),
('1026', '3', '0'),
('1026', '4', '0'),
('1026', '5', '0'),
('1026', '6', '0'),
('1026', '7', '0'),
('1026', '8', '0'),
('1026', '9', '0'),
('1026', '10', '0'),
('1026', '11', '0'),
('1026', '12', '0'),
('1026', '13', '0'),
('1027', '1', '0'),
('1027', '2', '0'),
('1027', '3', '0'),
('1027', '4', '0'),
('1027', '5', '0'),
('1027', '6', '0'),
('1027', '7', '0'),
('1027', '8', '0'),
('1027', '9', '0'),
('1027', '10', '0'),
('1027', '11', '0'),
('1027', '12', '0'),
('1027', '13', '0'),
('1028', '1', '0'),
('1028', '2', '0'),
('1028', '3', '0'),
('1028', '4', '0'),
('1028', '5', '0'),
('1028', '6', '0'),
('1028', '7', '0'),
('1028', '8', '0'),
('1028', '9', '0'),
('1028', '10', '0'),
('1028', '11', '0'),
('1028', '12', '0'),
('1028', '13', '0'),
('1029', '1', '0'),
('1029', '2', '0'),
('1029', '3', '0'),
('1029', '4', '0'),
('1029', '5', '0'),
('1029', '6', '0'),
('1029', '7', '0'),
('1029', '8', '0'),
('1029', '9', '0'),
('1029', '10', '0'),
('1029', '11', '0'),
('1029', '12', '0'),
('1029', '13', '0'),
('1030', '1', '0'),
('1030', '2', '0'),
('1030', '3', '0'),
('1030', '4', '0'),
('1030', '5', '0'),
('1030', '6', '0'),
('1030', '7', '0'),
('1030', '8', '0'),
('1030', '9', '0'),
('1030', '10', '0'),
('1030', '11', '0'),
('1030', '12', '0'),
('1030', '13', '0'),
('1031', '1', '0'),
('1031', '2', '0'),
('1031', '3', '0'),
('1031', '4', '0'),
('1031', '5', '0'),
('1031', '6', '0'),
('1031', '7', '0'),
('1031', '8', '0'),
('1031', '9', '0'),
('1031', '10', '0'),
('1031', '11', '0'),
('1031', '12', '0'),
('1031', '13', '0'),
('1032', '1', '0'),
('1032', '2', '0'),
('1032', '3', '0'),
('1032', '4', '0'),
('1032', '5', '0'),
('1032', '6', '0'),
('1032', '7', '0'),
('1032', '8', '0'),
('1032', '9', '0'),
('1032', '10', '0'),
('1032', '11', '0'),
('1032', '12', '0'),
('1032', '13', '0'),
('1033', '1', '0'),
('1033', '2', '0'),
('1033', '3', '0'),
('1033', '4', '0'),
('1033', '5', '0'),
('1033', '6', '0'),
('1033', '7', '0'),
('1033', '8', '0'),
('1033', '9', '0'),
('1033', '10', '0'),
('1033', '11', '0'),
('1033', '12', '0'),
('1033', '13', '0'),
('1034', '1', '0'),
('1034', '2', '0'),
('1034', '3', '0'),
('1034', '4', '0'),
('1034', '5', '0'),
('1034', '6', '0'),
('1034', '7', '0'),
('1034', '8', '0'),
('1034', '9', '0'),
('1034', '10', '0'),
('1034', '11', '0'),
('1034', '12', '0'),
('1034', '13', '0'),
('1035', '1', '0'),
('1035', '2', '0'),
('1035', '3', '0'),
('1035', '4', '0'),
('1035', '5', '0'),
('1035', '6', '0'),
('1035', '7', '0'),
('1035', '8', '0'),
('1035', '9', '0'),
('1035', '10', '0'),
('1035', '11', '0'),
('1035', '12', '0'),
('1035', '13', '0');

INSERT INTO YourTable (foreign_key_1, foreign_key_2, other_column)
SELECT TableA.id, TableB.id, 0
FROM TableA, TableB;
